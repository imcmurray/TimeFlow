<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TimeFlow - Experience time as a gentle flowing river</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div id="app">
        <!-- Header -->
        <header class="app-header">
            <button class="icon-btn" id="prev-day-btn" aria-label="Previous day">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="15,18 9,12 15,6"></polyline>
                </svg>
            </button>
            <div class="date-display">
                <h1 id="current-date">Today</h1>
                <span id="date-subtitle" class="date-subtitle"></span>
            </div>
            <button class="icon-btn" id="next-day-btn" aria-label="Next day">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="9,6 15,12 9,18"></polyline>
                </svg>
            </button>
            <button class="icon-btn" id="share-btn" aria-label="Share schedule">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="18" cy="5" r="3"></circle>
                    <circle cx="6" cy="12" r="3"></circle>
                    <circle cx="18" cy="19" r="3"></circle>
                    <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line>
                    <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>
                </svg>
            </button>
            <button class="icon-btn settings-btn" id="settings-btn" aria-label="Settings">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="3"></circle>
                    <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
                </svg>
            </button>
        </header>

        <!-- Main Timeline View -->
        <main class="timeline-container" id="timeline-container">
            <!-- NOW Line (fixed position) -->
            <div class="now-line" id="now-line">
                <div class="now-line-glow"></div>
                <div class="now-line-content">
                    <span class="now-label">NOW</span>
                    <span class="now-time" id="now-time">12:00 PM</span>
                </div>
            </div>

            <!-- Timeline -->
            <div class="timeline" id="timeline">
                <!-- Hour markers and tasks will be rendered here -->
            </div>
        </main>

        <!-- Jump to NOW Button -->
        <button class="jump-to-now-btn" id="jump-to-now-btn" aria-label="Jump to current time" hidden>
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"></circle>
                <polyline points="12 6 12 12 16 14"></polyline>
            </svg>
            <span>NOW</span>
        </button>

        <!-- Floating Action Button -->
        <button class="fab" id="add-task-btn" aria-label="Add new task">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="12" y1="5" x2="12" y2="19"></line>
                <line x1="5" y1="12" x2="19" y2="12"></line>
            </svg>
        </button>

        <!-- Task Detail Modal -->
        <div class="modal-overlay" id="task-modal" hidden>
            <div class="modal" role="dialog" aria-labelledby="modal-title">
                <div class="modal-header">
                    <h2 id="modal-title">New Task</h2>
                    <button class="icon-btn close-btn" id="close-modal-btn" aria-label="Close">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="18" y1="6" x2="6" y2="18"></line>
                            <line x1="6" y1="6" x2="18" y2="18"></line>
                        </svg>
                    </button>
                </div>
                <form id="task-form" class="task-form">
                    <input type="hidden" id="task-id" name="id">

                    <div class="form-group title-input-group">
                        <label for="task-title">Task Title</label>
                        <input type="text" id="task-title" name="title" required placeholder="Enter task title..." autocomplete="off">
                        <div class="title-suggestions" id="title-suggestions" hidden></div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="task-start-time">Start Time</label>
                            <input type="time" id="task-start-time" name="startTime" required>
                        </div>
                        <div class="form-group">
                            <label for="task-end-time">End Time</label>
                            <input type="time" id="task-end-time" name="endTime" required>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="task-description">Description</label>
                        <textarea id="task-description" name="description" rows="3" placeholder="Add notes or details..."></textarea>
                    </div>

                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="task-important" name="isImportant">
                            <span class="checkbox-custom"></span>
                            <span>Mark as Important</span>
                        </label>
                    </div>

                    <div class="form-group">
                        <label for="task-reminder">Reminder</label>
                        <select id="task-reminder" name="reminderMinutes">
                            <option value="">No reminder</option>
                            <option value="5">5 minutes before</option>
                            <option value="15">15 minutes before</option>
                            <option value="30">30 minutes before</option>
                            <option value="60">1 hour before</option>
                        </select>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" id="delete-task-btn" hidden>Delete</button>
                        <button type="submit" class="btn btn-primary">Save Task</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Settings Modal -->
        <div class="modal-overlay" id="settings-modal" hidden>
            <div class="modal" role="dialog" aria-labelledby="settings-title">
                <div class="modal-header">
                    <h2 id="settings-title">Settings</h2>
                    <button class="icon-btn close-btn" id="close-settings-btn" aria-label="Close">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="18" y1="6" x2="6" y2="18"></line>
                            <line x1="6" y1="6" x2="18" y2="18"></line>
                        </svg>
                    </button>
                </div>
                <div class="settings-content">
                    <div class="settings-group">
                        <h3>Appearance</h3>
                        <div class="setting-item">
                            <label for="theme-select">Theme</label>
                            <select id="theme-select">
                                <option value="light">Light</option>
                                <option value="dark">Dark</option>
                                <option value="auto">System Default</option>
                            </select>
                        </div>
                    </div>

                    <div class="settings-group">
                        <h3>Notifications</h3>
                        <div class="setting-item">
                            <label class="checkbox-label">
                                <input type="checkbox" id="notifications-enabled" checked>
                                <span class="checkbox-custom"></span>
                                <span>Enable Notifications</span>
                            </label>
                        </div>
                        <div class="setting-item">
                            <label for="default-reminder">Default Reminder</label>
                            <select id="default-reminder">
                                <option value="5">5 minutes before</option>
                                <option value="15" selected>15 minutes before</option>
                                <option value="30">30 minutes before</option>
                                <option value="60">1 hour before</option>
                            </select>
                        </div>
                    </div>

                    <div class="settings-group">
                        <h3>Timeline</h3>
                        <div class="setting-item">
                            <label for="timeline-density">Timeline Density</label>
                            <input type="range" id="timeline-density" min="0.5" max="2" step="0.1" value="1">
                        </div>
                    </div>

                    <div class="settings-group about-section">
                        <h3>About</h3>
                        <p class="about-text">TimeFlow v1.0.0</p>
                        <p class="about-tagline">Experience time as a gentle flowing river, not a pressure cooker.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Share Modal -->
        <div class="modal-overlay" id="share-modal" hidden>
            <div class="modal" role="dialog" aria-labelledby="share-title">
                <div class="modal-header">
                    <h2 id="share-title">Share Schedule</h2>
                    <button class="icon-btn close-btn" id="close-share-btn" aria-label="Close">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="18" y1="6" x2="6" y2="18"></line>
                            <line x1="6" y1="6" x2="18" y2="18"></line>
                        </svg>
                    </button>
                </div>
                <div class="share-content">
                    <div class="share-privacy-options">
                        <label class="checkbox-label">
                            <input type="checkbox" id="share-hide-details">
                            <span class="checkbox-custom"></span>
                            <span>Hide descriptions (show only titles & times)</span>
                        </label>
                    </div>
                    <div class="share-preview" id="share-preview">
                        <!-- Preview will be rendered here -->
                    </div>
                    <div class="share-options">
                        <button class="share-option-btn" id="share-image-btn">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                                <circle cx="8.5" cy="8.5" r="1.5"></circle>
                                <polyline points="21,15 16,10 5,21"></polyline>
                            </svg>
                            <span>Share as Image</span>
                        </button>
                        <button class="share-option-btn" id="share-text-btn">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                <polyline points="14,2 14,8 20,8"></polyline>
                                <line x1="16" y1="13" x2="8" y2="13"></line>
                                <line x1="16" y1="17" x2="8" y2="17"></line>
                                <polyline points="10,9 9,9 8,9"></polyline>
                            </svg>
                            <span>Share as Text</span>
                        </button>
                        <button class="share-option-btn" id="copy-link-btn">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path>
                                <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
                            </svg>
                            <span>Copy Link</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Confirmation Dialog -->
        <div class="modal-overlay" id="confirm-modal" hidden>
            <div class="modal confirm-modal" role="alertdialog" aria-labelledby="confirm-title" aria-describedby="confirm-message">
                <div class="modal-header">
                    <h2 id="confirm-title">Confirm Delete</h2>
                </div>
                <div class="confirm-content">
                    <p id="confirm-message">Are you sure you want to delete this task? This action cannot be undone.</p>
                </div>
                <div class="confirm-actions">
                    <button type="button" class="btn btn-secondary" id="confirm-cancel-btn">Cancel</button>
                    <button type="button" class="btn btn-danger" id="confirm-delete-btn">Delete</button>
                </div>
            </div>
        </div>

        <!-- Toast Notifications -->
        <div class="toast-container" id="toast-container"></div>
    </div>

    <script src="app.js" type="module"></script>
</body>
</html>
